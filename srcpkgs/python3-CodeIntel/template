# Template file for 'python3-CodeIntel'
pkgname=python3-CodeIntel
version=2.0.0
revision=1
wrksrc="CodeIntel-${version}"
build_style=python3-module
hostmakedepends="python3-setuptools"
makedepends="python3-devel"
depends="python3 python3-setuptools python3-esprima python3-3to2
 libclang-python3 python3-zope.cachedescriptors python3-cmdln python3-applib
 python3-Inflector"
pycompile_module="codeintel"
short_desc="Code intelligence engine that was ported from Open Komodo
 Editor to Python3"
maintainer="shizonic <realtiaz@gmail.com>"
homepage="https://github.com/SublimeCodeIntel/CodeIntel"
license="MPL"
distfiles="${PYPI_SITE}/C/CodeIntel/CodeIntel-${version}.tar.gz"
checksum=0c3d0fcd356082b0f786e52151e36e2ca8622ea399896ac5478d39e7f78815e8
broken="dependencies have to be build first"

post_extract() {
	# Fix: Remove test directory to prevent syntax error caused trough
	#      python2 syntax instead of python3
	rm -rf codeintel/test2/*
}
